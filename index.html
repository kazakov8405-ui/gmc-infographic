<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ì–∞–π–¥: Google Merchant Center –∏ Performance Max</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        body {
            font-family: 'Inter', sans-serif;
        }
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap');
        
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
            height: 300px;
            max-height: 400px;
        }
        @media (min-width: 768px) {
            .chart-container {
                height: 350px;
            }
        }
        
        .tailwind-color-primary { color: #004AAD; }
        .tailwind-bg-primary { background-color: #004AAD; }
        .tailwind-color-secondary { color: #0076CE; }
        .tailwind-bg-secondary { background-color: #0076CE; }
        .tailwind-color-accent1 { color: #3498DB; }
        .tailwind-bg-accent1 { background-color: #3498DB; }
        .tailwind-color-accent2 { color: #6BB8E7; }
        .tailwind-bg-accent2 { background-color: #6BB8E7; }

        .gemini-loader {
            border: 4px solid #f3f3f3;
            border-top: 4px solid #004AAD;
            border-radius: 50%;
            width: 30px;
            height: 30px;
            animation: spin 1s linear infinite;
            margin: 20px auto;
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
</head>
<body class="bg-gray-100">

    <header class="tailwind-bg-primary text-white p-8 text-center shadow-lg">
        <h1 class="text-3xl md:text-4xl font-bold mb-2">–ì–∞–π–¥: Google Merchant Center –∏ Performance Max</h1>
        <p class="text-lg md:text-xl max-w-3xl mx-auto opacity-90">–û—Ç —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –∞–∫–∫–∞—É–Ω—Ç–∞ –¥–æ –∑–∞–ø—É—Å–∫–∞ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–π Performance Max –∫–∞–º–ø–∞–Ω–∏–∏ –¥–ª—è –≤–∞—à–µ–≥–æ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–º–∞–≥–∞–∑–∏–Ω–∞.</p>
    </header>

    <main class="max-w-7xl mx-auto p-4 md:p-8">
        <div class="grid grid-cols-1 md:grid-cols-2 gap-6 md:gap-8">

            <section class="md:col-span-2 bg-white rounded-lg shadow-xl p-6 md:p-8">
                <h2 class="text-2xl font-bold tailwind-color-primary mb-4">–û—Å–Ω–æ–≤–∞ –¥–ª—è E-commerce: –°–≤—è–∑—å GMC –∏ PMax</h2>
                <p class="text-gray-700 mb-6">Google Merchant Center (GMC) ‚Äî —ç—Ç–æ –Ω–µ –ø—Ä–æ—Å—Ç–æ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç, —ç—Ç–æ —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç –¥–ª—è –≤—Å–µ–π —Ç–æ–≤–∞—Ä–Ω–æ–π —Ä–µ–∫–ª–∞–º—ã –≤ Google. –ë–µ–∑ –Ω–µ–≥–æ –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ –∑–∞–ø—É—Å—Ç–∏—Ç—å Performance Max –¥–ª—è –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–º–∞–≥–∞–∑–∏–Ω–∞. –≠—Ç–∞ —Å—Ö–µ–º–∞ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∏—Ö –ø—Ä—è–º—É—é –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å.</p>
                <div class="flex flex-col md:flex-row justify-center items-center space-y-4 md:space-y-0 md:space-x-8 my-4">
                    <div class="p-4 bg-blue-50 rounded-lg shadow-md text-center w-60">
                        <span class="text-4xl">üõçÔ∏è</span>
                        <h3 class="font-semibold text-lg tailwind-color-primary mt-2">–í–∞—à –ú–∞–≥–∞–∑–∏–Ω</h3>
                        <p class="text-sm text-gray-600">(–° –æ–Ω–ª–∞–π–Ω-–æ–ø–ª–∞—Ç–æ–π)</p>
                    </div>
                    <span class="text-4xl tailwind-color-secondary font-light">‚Üí</span>
                    <div class="p-4 bg-blue-50 rounded-lg shadow-md text-center w-60">
                        <span class="text-4xl">üè™</span>
                        <h3 class="font-semibold text-lg tailwind-color-primary mt-2">Google Merchant Center</h3>
                        <p class="text-sm text-gray-600">(–§–∏–¥ —Ç–æ–≤–∞—Ä–æ–≤)</p>
                    </div>
                    <span class="text-4xl tailwind-color-secondary font-light">‚Üí</span>
                    <div class="p-4 bg-blue-50 rounded-lg shadow-md text-center w-60">
                        <span class="text-4xl">üöÄ</span>
                        <h3 class="font-semibold text-lg tailwind-color-primary mt-2">Performance Max</h3>
                        <p class="text-sm text-gray-600">(–†–µ–∫–ª–∞–º–∞ –≤–æ –≤—Å–µ—Ö –∫–∞–Ω–∞–ª–∞—Ö)</p>
                    </div>
                </div>
            </section>

            <section class="bg-white rounded-lg shadow-xl p-6 md:p-8">
                <h2 class="text-2xl font-bold tailwind-color-primary mb-4">–§–∞–∑–∞ 1: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∏ –í–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è</h2>
                <p class="text-gray-700 mb-6">–ü–µ—Ä–≤—ã–π –∏ —Å–∞–º—ã–π –≤–∞–∂–Ω—ã–π —ç—Ç–∞–ø. –û—à–∏–±–∫–∏ –∑–¥–µ—Å—å –ø—Ä–∏–≤–µ–¥—É—Ç –∫ –ø–æ–ª–Ω–æ–π –æ—Å—Ç–∞–Ω–æ–≤–∫–µ. –í–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è —Å–∞–π—Ç–∞ –∏ —Ä–∞–±–æ—Ç–∞—é—â–∞—è –æ–Ω–ª–∞–π–Ω-–æ–ø–ª–∞—Ç–∞ ‚Äî –∫–ª—é—á –∫ –æ–¥–æ–±—Ä–µ–Ω–∏—é.</p>
                <ol class="relative border-l border-blue-300 my-4">
                    <li class="mb-6 ml-6">
                        <span class="absolute flex items-center justify-center w-8 h-8 tailwind-bg-accent2 rounded-full -left-4 ring-4 ring-white">
                            <span class="text-white font-bold">1</span>
                        </span>
                        <h3 class="font-semibold text-lg tailwind-color-primary">–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∞–∫–∫–∞—É–Ω—Ç–∞</h3>
                        <p class="text-sm text-gray-600">–°–æ–∑–¥–∞–π—Ç–µ –∞–∫–∫–∞—É–Ω—Ç –≤ Google Merchant Center, –∏—Å–ø–æ–ª—å–∑—É—è –≤–∞—à Google-–∞–∫–∫–∞—É–Ω—Ç.</p>
                    </li>
                    <li class="mb-6 ml-6">
                        <span class="absolute flex items-center justify-center w-8 h-8 tailwind-bg-accent2 rounded-full -left-4 ring-4 ring-white">
                            <span class="text-white font-bold">2</span>
                        </span>
                        <h3 class="font-semibold text-lg tailwind-color-primary">–í–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è —Å–∞–π—Ç–∞</h3>
                        <p class="text-sm text-gray-600">–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ, —á—Ç–æ –≤—ã —è–≤–ª—è–µ—Ç–µ—Å—å –≤–ª–∞–¥–µ–ª—å—Ü–µ–º –¥–æ–º–µ–Ω–∞ (—á–µ—Ä–µ–∑ HTML-—Ç–µ–≥, Google Analytics –∏ —Ç.–¥.).</p>
                    </li>
                    <li class="ml-6">
                        <span class="absolute flex items-center justify-center w-8 h-8 bg-red-200 rounded-full -left-4 ring-4 ring-white">
                            <span class="text-red-700 font-bold">!</span>
                        </span>
                        <h3 class="font-semibold text-lg text-red-700">–ö–ª—é—á–µ–≤–æ–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–µ</h3>
                        <p class="text-sm text-gray-600">–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –Ω–∞ —Å–∞–π—Ç–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞ <strong class="font-bold">–æ–Ω–ª–∞–π–Ω-–æ–ø–ª–∞—Ç–∞</strong>. –ë–µ–∑ —ç—Ç–æ–≥–æ –º–æ–¥–µ—Ä–∞—Ü–∏—è –Ω–µ –±—É–¥–µ—Ç –ø—Ä–æ–π–¥–µ–Ω–∞.</p>
                    </li>
                </ol>
            </section>

            <section class="bg-white rounded-lg shadow-xl p-6 md:p-8">
                <h2 class="text-2xl font-bold tailwind-color-primary mb-4">–§–∞–∑–∞ 2: –¢–æ–≤–∞—Ä–Ω—ã–π –§–∏–¥</h2>
                <p class="text-gray-700 mb-6">–§–∏–¥ ‚Äî —ç—Ç–æ "–ø–∞—Å–ø–æ—Ä—Ç" –≤–∞—à–∏—Ö —Ç–æ–≤–∞—Ä–æ–≤. –û–Ω —Å–æ–æ–±—â–∞–µ—Ç Google –≤—Å—ë, —á—Ç–æ –Ω—É–∂–Ω–æ –∑–Ω–∞—Ç—å –¥–ª—è –∏—Ö –ø–æ–∫–∞–∑–∞. –í—ã –º–æ–∂–µ—Ç–µ –∑–∞–≥—Ä—É–∑–∏—Ç—å –µ–≥–æ —á–µ—Ä–µ–∑ Google Sheets (–¥–ª—è –ø—Ä–æ—Å—Ç–æ—Ç—ã) –∏–ª–∏ XML-—Ñ–∞–π–ª (–¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏).</p>
                <h3 class="font-semibold text-lg tailwind-color-secondary mb-3">–û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è –≤ —Ñ–∏–¥–µ:</h3>
                <ul class="space-y-2 text-gray-700">
                    <li class="flex items-center"><span class="text-xl mr-3">üè∑Ô∏è</span><strong>–ù–∞–∑–≤–∞–Ω–∏–µ (Title):</strong> –ß–µ—Ç–∫–æ–µ –∏ –ø–æ–Ω—è—Ç–Ω–æ–µ.</li>
                    <li class="flex items-center"><span class="text-xl mr-3">üìÑ</span><strong>–û–ø–∏—Å–∞–Ω–∏–µ (Description):</strong> –ü–æ–¥—Ä–æ–±–Ω–æ–µ –∏ —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω–æ–µ.</li>
                    <li class="flex items-center"><span class="text-xl mr-3">üñºÔ∏è</span><strong>–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è (Images):</strong> –ö–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ, –Ω–∞ —Å–≤–µ—Ç–ª–æ–º —Ñ–æ–Ω–µ.</li>
                    <li class="flex items-center"><span class="text-xl mr-3">üí≤</span><strong>–¶–µ–Ω–∞ (Price):</strong> –¢–æ—á–Ω–∞—è, –∫–∞–∫ –Ω–∞ —Å–∞–π—Ç–µ.</li>
                    <li class="flex items-center"><span class="text-xl mr-3">#Ô∏è‚É£</span><strong>GTIN/MPN:</strong> –ì–ª–æ–±–∞–ª—å–Ω—ã–π –Ω–æ–º–µ—Ä —Ç–æ–≤–∞—Ä–∞ (—à—Ç—Ä–∏—Ö-–∫–æ–¥).</li>
                </ul>
            </section>

            <section class="bg-white rounded-lg shadow-xl p-6 md:p-8">
                <h2 class="text-2xl font-bold tailwind-color-primary mb-4">–§–∞–∑–∞ 3: –ú–æ–¥–µ—Ä–∞—Ü–∏—è –∏ –°—Ç–∞—Ç—É—Å—ã</h2>
                <p class="text-gray-700 mb-6">–ü–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–∏–¥–∞ —Ç–æ–≤–∞—Ä—ã —É—Ö–æ–¥—è—Ç –Ω–∞ –º–æ–¥–µ—Ä–∞—Ü–∏—é. –≠—Ç–æ—Ç –≥—Ä–∞—Ñ–∏–∫ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –≥–∏–ø–æ—Ç–µ—Ç–∏—á–µ—Å–∫–æ–µ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–æ–≤ —Ç–æ–≤–∞—Ä–æ–≤ –≤ –∞–∫–∫–∞—É–Ω—Ç–µ. –í–∞—à–∞ —Ü–µ–ª—å ‚Äî 100% "–û–¥–æ–±—Ä–µ–Ω–æ".</p>
                <div class="chart-container">
                    <canvas id="statusChart"></canvas>
                </div>
                <ul class="mt-6 text-sm space-y-2">
                    <li><strong class="text-green-600">Approved (–û–¥–æ–±—Ä–µ–Ω–æ):</strong> –¢–æ–≤–∞—Ä –≥–æ—Ç–æ–≤ –∫ –ø–æ–∫–∞–∑—É.</li>
                    <li><strong class="text-red-600">Disapproved (–û—Ç–∫–ª–æ–Ω–µ–Ω–æ):</strong> –¢–æ–≤–∞—Ä –Ω–∞—Ä—É—à–∞–µ—Ç –ø—Ä–∞–≤–∏–ª–∞ (–Ω–µ—Ç —Ü–µ–Ω—ã, GTIN, –ø—Ä–æ–±–ª–µ–º–∞ —Å —Å–∞–π—Ç–æ–º).</li>
                    <li><strong class="text-yellow-600">Partially approved (–ß–∞—Å—Ç–∏—á–Ω–æ):</strong> –û–¥–æ–±—Ä–µ–Ω, –Ω–æ —Å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è–º–∏.</li>
                </ul>
            </section>

            <section class="bg-white rounded-lg shadow-xl p-6 md:p-8">
                <h2 class="text-2xl font-bold tailwind-color-primary mb-4">–§–∞–∑–∞ 4: –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –¥–ª—è CTR</h2>
                <p class="text-gray-700 mb-6">–•–æ—Ä–æ—à–æ –æ—Ñ–æ—Ä–º–ª–µ–Ω–Ω—ã–µ –∫–∞—Ä—Ç–æ—á–∫–∏ (–∑–∞–≥–æ–ª–æ–≤–æ–∫, —Ñ–æ—Ç–æ, –æ–ø–∏—Å–∞–Ω–∏–µ) –Ω–∞–ø—Ä—è–º—É—é –≤–ª–∏—è—é—Ç –Ω–∞ CTR (–∫–ª–∏–∫–∞–±–µ–ª—å–Ω–æ—Å—Ç—å) –∏ —Å–Ω–∏–∂–∞—é—Ç —Ü–µ–Ω—É –∑–∞ –∫–ª–∏–∫ (CPC). –≠—Ç–æ—Ç –≥—Ä–∞—Ñ–∏–∫ —Å—Ä–∞–≤–Ω–∏–≤–∞–µ—Ç –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏ –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –∏ –Ω–µ–æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —Ç–æ–≤–∞—Ä–æ–≤.</p>
                <div class="chart-container">
                    <canvas id="optimizationChart"></canvas>
                </div>
            </section>

            <section class="md:col-span-2 bg-white rounded-lg shadow-xl p-6 md:p-8">
                <h2 class="text-2xl font-bold tailwind-color-primary mb-4">–§–∞–∑–∞ 5: –°—Ç—Ä–∞—Ç–µ–≥–∏—è –ó–∞–ø—É—Å–∫–∞ –ö–∞–º–ø–∞–Ω–∏–∏</h2>
                <p class="text-gray-700 mb-6">–ù–µ —Å–ø–µ—à–∏—Ç–µ —Å—Ä–∞–∑—É –∑–∞–ø—É—Å–∫–∞—Ç—å Performance Max. –ê–ª–≥–æ—Ä–∏—Ç–º—É –Ω—É–∂–Ω—ã –¥–∞–Ω–Ω—ã–µ. –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º–∞—è —Å—Ç—Ä–∞—Ç–µ–≥–∏—è ‚Äî –Ω–∞—á–∞—Ç—å —Å–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–π —Ç–æ—Ä–≥–æ–≤–æ–π –∫–∞–º–ø–∞–Ω–∏–∏, —Å–æ–±—Ä–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –æ –∫–æ–Ω–≤–µ—Ä—Å–∏—è—Ö, –∏ —Ç–æ–ª—å–∫–æ –ø–æ—Ç–æ–º –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç—å –Ω–∞ PMax –¥–ª—è –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è.</p>
                <div class="flex flex-col md:flex-row justify-center items-center space-y-4 md:space-y-0 md:space-x-8 my-4">
                    <div class="p-6 bg-gray-100 rounded-lg shadow-md text-center w-full md:w-80">
                        <span class="text-3xl">üìä</span>
                        <h3 class="font-semibold text-lg text-gray-800 mt-2">1. –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è –¢–æ—Ä–≥–æ–≤–∞—è –ö–∞–º–ø–∞–Ω–∏—è</h3>
                        <p class="text-sm text-gray-600 mt-2"><strong>–¶–µ–ª—å:</strong> –°–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö, –æ–±—É—á–µ–Ω–∏–µ –∞–ª–≥–æ—Ä–∏—Ç–º–∞, –ø–æ–ª—É—á–µ–Ω–∏–µ –ø–µ—Ä–≤—ã—Ö –∫–æ–Ω–≤–µ—Ä—Å–∏–π, —Ç–µ—Å—Ç —Ñ–∏–¥–∞.</p>
                    </div>
                    <span class="text-4xl tailwind-color-secondary font-light transform rotate-90 md:rotate-0">‚Üí</span>
                    <div class="p-6 tailwind-bg-primary text-white rounded-lg shadow-md text-center w-full md:w-80">
                        <span class="text-3xl">üöÄ</span>
                        <h3 class="font-semibold text-lg mt-2">2. Performance Max</h3>
                        <p class="text-sm opacity-90 mt-2"><strong>–¶–µ–ª—å:</strong> –ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ, –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø—Ä–æ–¥–≤–∏–∂–µ–Ω–∏–µ –Ω–∞ –≤—Å–µ—Ö –∫–∞–Ω–∞–ª–∞—Ö, —Ä–æ—Å—Ç —á–∏—Å–ª–∞ –∫–æ–Ω–≤–µ—Ä—Å–∏–π.</p>
                    </div>
                </div>
            </section>

            <section class="md:col-span-2 bg-white rounded-lg shadow-xl p-6 md:p-8">
                <h2 class="text-2xl font-bold tailwind-color-primary mb-4">–§–∞–∑–∞ 6: –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –§–∏–¥–∞ —Å Gemini AI ‚ú®</h2>
                <p class="text-gray-700 mb-6">–ö–∞—á–µ—Å—Ç–≤–æ –≤–∞—à–µ–≥–æ —Ñ–∏–¥–∞ –Ω–∞–ø—Ä—è–º—É—é –≤–ª–∏—è–µ—Ç –Ω–∞ CTR (–§–∞–∑–∞ 4). –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Gemini –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –±–æ–ª–µ–µ –ø—Ä–∏–≤–ª–µ–∫–∞—Ç–µ–ª—å–Ω—ã—Ö –Ω–∞–∑–≤–∞–Ω–∏–π –∏ –æ–ø–∏—Å–∞–Ω–∏–π —Ç–æ–≤–∞—Ä–æ–≤, —á—Ç–æ–±—ã –≤—ã–¥–µ–ª–∏—Ç—å—Å—è —Å—Ä–µ–¥–∏ –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–æ–≤.</p>
                
                <form id="geminiOptimizeForm" class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <div>
                        <label for="productTitle" class="block text-sm font-medium text-gray-700 mb-1">–¢–µ–∫—É—â–µ–µ –ù–∞–∑–≤–∞–Ω–∏–µ –¢–æ–≤–∞—Ä–∞</label>
                        <input type="text" id="productTitle" class="w-full p-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500" placeholder="–ù–∞–ø—Ä: –ö—Ä–∞—Å–Ω—ã–µ –∫—Ä–æ—Å—Å–æ–≤–∫–∏ N-Model">
                    </div>
                    <div>
                        <label for="productDescription" class="block text-sm font-medium text-gray-700 mb-1">–¢–µ–∫—É—â–µ–µ –û–ø–∏—Å–∞–Ω–∏–µ –¢–æ–≤–∞—Ä–∞</label>
                        <textarea id="productDescription" rows="4" class="w-full p-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500" placeholder="–ù–∞–ø—Ä: –£–¥–æ–±–Ω—ã–µ –∫—Ä–æ—Å—Å–æ–≤–∫–∏ –¥–ª—è –±–µ–≥–∞, –∫—Ä–∞—Å–Ω—ã–π —Ü–≤–µ—Ç, —Ä–∞–∑–º–µ—Ä 42."></textarea>
                    </div>
                    <div class="md:col-span-2 text-center">
                        <button type="submit" id="optimizeButton" class="inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-md shadow-sm text-white tailwind-bg-primary hover:bg-opacity-90 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-all duration-150">
                            ‚ú® –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Å Gemini
                        </button>
                    </div>
                </form>

                <div id="geminiResult" class="mt-6 hidden">
                    <div id="geminiLoader" class="gemini-loader hidden"></div>
                    <div id="geminiOutput">
                        <div class="mb-4">
                            <label for="optimizedTitle" class="block text-sm font-medium text-gray-900 mb-1">–û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –ù–∞–∑–≤–∞–Ω–∏–µ</label>
                            <textarea id="optimizedTitle" rows="2" readonly class="w-full p-2 border border-gray-300 rounded-md bg-gray-50 shadow-sm"></textarea>
                        </div>
                        <div>
                            <label for="optimizedDescription" class="block text-sm font-medium text-gray-900 mb-1">–û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –û–ø–∏—Å–∞–Ω–∏–µ</label>
                            <textarea id="optimizedDescription" rows="5" readonly class="w-full p-2 border border-gray-300 rounded-md bg-gray-50 shadow-sm"></textarea>
                        </div>
                        <p id="geminiError" class="text-red-600 text-sm mt-2 text-center"></p>
                    </div>
                </div>
            </section>

        </div>
    </main>

    <footer class="text-center p-6 mt-8 text-gray-500 text-sm">
        <p>–≠—Ç–æ—Ç –∏–Ω—Ñ–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–π –≥–∞–π–¥ –æ—Å–Ω–æ–≤–∞–Ω –Ω–∞ –º–∞—Ç–µ—Ä–∏–∞–ª–∞—Ö –£—Ä–æ–∫–∞ 4.3.</p>
    </footer>

    <script>
        function processLabel(label) {
            if (typeof label !== 'string' || label.length <= 16) {
                return label;
            }
            const words = label.split(' ');
            const lines = [];
            let currentLine = '';
            for (const word of words) {
                if ((currentLine + ' ' + word).trim().length > 16 && currentLine.length > 0) {
                    lines.push(currentLine);
                    currentLine = word;
                } else {
                    currentLine = (currentLine + ' ' + word).trim();
                }
            }
            if (currentLine.length > 0) {
                lines.push(currentLine);
            }
            return lines;
        }

        const tooltipTitleCallback = (tooltipItems) => {
            const item = tooltipItems[0];
            let label = item.chart.data.labels[item.dataIndex];
            if (Array.isArray(label)) {
                return label.join(' ');
            } else {
                return label;
            }
        };

        const commonChartOptions = {
            responsive: true,
            maintainAspectRatio: false,
            plugins: {
                legend: {
                    position: 'bottom',
                    labels: {
                        font: {
                            family: "'Inter', sans-serif"
                        }
                    }
                },
                tooltip: {
                    callbacks: {
                        title: tooltipTitleCallback
                    },
                    titleFont: {
                        family: "'Inter', sans-serif"
                    },
                    bodyFont: {
                        family: "'Inter', sans-serif"
                    }
                }
            }
        };

        window.onload = function() {
            
            const statusCtx = document.getElementById('statusChart').getContext('2d');
            new Chart(statusCtx, {
                type: 'doughnut',
                data: {
                    labels: [
                        processLabel('–û–¥–æ–±—Ä–µ–Ω–æ (Approved)'), 
                        processLabel('–û—Ç–∫–ª–æ–Ω–µ–Ω–æ (Disapproved)'), 
                        processLabel('–ß–∞—Å—Ç–∏—á–Ω–æ –æ–¥–æ–±—Ä–µ–Ω–æ (Partially)')
                    ],
                    datasets: [{
                        label: '–°—Ç–∞—Ç—É—Å –¢–æ–≤–∞—Ä–æ–≤',
                        data: [80, 15, 5],
                        backgroundColor: [
                            '#0076CE',
                            '#D9534F',
                            '#F0AD4E'
                        ],
                        borderColor: '#FFFFFF',
                        borderWidth: 3
                    }]
                },
                options: {
                    ...commonChartOptions,
                    cutout: '60%'
                }
            });

            
            const optimizationCtx = document.getElementById('optimizationChart').getContext('2d');
            new Chart(optimizationCtx, {
                type: 'bar',
                data: {
                    labels: [processLabel('CTR (–ö–ª–∏–∫–∞–±–µ–ª—å–Ω–æ—Å—Ç—å, %)'), processLabel('CPC (–¶–µ–Ω–∞ –∑–∞ –∫–ª–∏–∫, $)')],
                    datasets: [
                        {
                            label: '–ë–µ–∑ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏',
                            data: [1.5, 0.50],
                            backgroundColor: '#6BB8E7',
                            borderColor: '#6BB8E7',
                            borderWidth: 1
                        },
                        {
                            label: '–û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ç–æ–≤–∞—Ä',
                            data: [4.5, 0.30],
                            backgroundColor: '#004AAD',
                            borderColor: '#004AAD',
                            borderWidth: 1
                        }
                    ]
                },
                options: {
                    ...commonChartOptions,
                    scales: {
                        y: {
                            beginAtZero: true,
                            ticks: {
                                font: {
                                    family: "'Inter', sans-serif"
                                }
                            }
                        },
                        x: {
                            ticks: {
                                font: {
                                    family: "'Inter', sans-serif"
                                }
                            }
                        }
                    }
                }
            });

            const geminiForm = document.getElementById('geminiOptimizeForm');
            geminiForm.addEventListener('submit', handleGeminiSubmit);
        };

        async function callGeminiAPI(systemPrompt, userQuery, retries = 3, delay = 1000) {
            const apiKey = ""; 
            const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-09-2025:generateContent?key=${apiKey}`;

            const payload = {
                contents: [{ parts: [{ text: userQuery }] }],
                systemInstruction: {
                    parts: [{ text: systemPrompt }]
                },
                generationConfig: {
                    responseMimeType: "application/json",
                    responseSchema: {
                        type: "OBJECT",
                        properties: {
                            "optimizedTitle": { "type": "STRING" },
                            "optimizedDescription": { "type": "STRING" }
                        },
                        required: ["optimizedTitle", "optimizedDescription"]
                    }
                }
            };

            try {
                const response = await fetch(apiUrl, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(payload)
                });

                if (!response.ok) {
                    if (response.status === 429 && retries > 0) {
                        await new Promise(resolve => setTimeout(resolve, delay));
                        return callGeminiAPI(systemPrompt, userQuery, retries - 1, delay * 2);
                    }
                    throw new Error(`API Error: ${response.status} ${response.statusText}`);
                }

                const result = await response.json();
                const candidate = result.candidates?.[0];

                if (candidate && candidate.content?.parts?.[0]?.text) {
                    return JSON.parse(candidate.content.parts[0].text);
                } else {
                    throw new Error("–ù–µ–æ–∂–∏–¥–∞–Ω–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –æ—Ç–≤–µ—Ç–∞ –æ—Ç API.");
                }
            } catch (error) {
                if (retries > 0) {
                    await new Promise(resolve => setTimeout(resolve, delay));
                    return callGeminiAPI(systemPrompt, userQuery, retries - 1, delay * 2);
                } else {
                    console.error("–û—à–∏–±–∫–∞ –ø—Ä–∏ –≤—ã–∑–æ–≤–µ Gemini API:", error);
                    throw error;
                }
            }
        }

        async function handleGeminiSubmit(event) {
            event.preventDefault();

            const title = document.getElementById('productTitle').value;
            const description = document.getElementById('productDescription').value;
            const button = document.getElementById('optimizeButton');
            const resultContainer = document.getElementById('geminiResult');
            const loader = document.getElementById('geminiLoader');
            const outputContainer = document.getElementById('geminiOutput');
            const errorContainer = document.getElementById('geminiError');

            const optimizedTitleEl = document.getElementById('optimizedTitle');
            const optimizedDescriptionEl = document.getElementById('optimizedDescription');

            if (!title.trim() || !description.trim()) {
                errorContainer.textContent = "–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –∑–∞–ø–æ–ª–Ω–∏—Ç–µ –æ–±–∞ –ø–æ–ª—è: –Ω–∞–∑–≤–∞–Ω–∏–µ –∏ –æ–ø–∏—Å–∞–Ω–∏–µ.";
                resultContainer.style.display = 'block';
                outputContainer.style.display = 'block';
                loader.style.display = 'none';
                return;
            }

            button.disabled = true;
            button.classList.add('opacity-50', 'cursor-not-allowed');
            resultContainer.style.display = 'block';
            outputContainer.style.display = 'none';
            loader.style.display = 'block';
            errorContainer.textContent = '';

            const systemPrompt = "You are an expert Google Merchant Center and SEO copywriter. Your goal is to optimize product information for Google Shopping to maximize Click-Through Rate (CTR) and relevance. You must respond ONLY with a valid JSON object according to the provided schema.";
            const userQuery = `Optimize the following product data:\nTitle: ${title}\nDescription: ${description}\n\nProvide an optimized title and description. The title should be catchy, clear, and include key attributes (like brand, model, color, size). The description should be persuasive, detailed, and highlight key benefits for the customer.`;

            try {
                const result = await callGeminiAPI(systemPrompt, userQuery);
                
                if (result.optimizedTitle && result.optimizedDescription) {
                    optimizedTitleEl.value = result.optimizedTitle;
                    optimizedDescriptionEl.value = result.optimizedDescription;
                    outputContainer.style.display = 'block';
                } else {
                    throw new Error("–û—Ç–≤–µ—Ç API –Ω–µ —Å–æ–¥–µ—Ä–∂–∏—Ç –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã—Ö –ø–æ–ª–µ–π.");
                }

            } catch (error) {
                console.error(error);
                errorContainer.textContent = "–ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞ –ø—Ä–∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø–æ–ø—Ä–æ–±—É–π—Ç–µ –µ—â–µ —Ä–∞–∑. " + error.message;
                outputContainer.style.display = 'block';
            } finally {
                button.disabled = false;
                button.classList.remove('opacity-50', 'cursor-not-allowed');
                loader.style.display = 'none';
            }
        }
    </script>
</body>
</html>

